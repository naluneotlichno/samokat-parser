üî• **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ CLI-–ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è –°–∞–º–æ–∫–∞—Ç–∞** üöÄ  
–î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º —á—ë—Ç–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–±—ã—Ç—å! üòà

---

## **üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** üéâ

   - –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏.

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤** üõçÔ∏è

   - –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ API, –ø–æ–ª—É—á–∞–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–≤–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä).

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π** üßê

   - –ï—Å–ª–∏ —É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—Å—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ö –∏ –ø—Ä–æ—Å–∏–º –≤—ã–±—Ä–∞—Ç—å.
   - –ï—Å–ª–∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ—Ç ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø–∞—Ä—Å–∏–Ω–≥—É —Ç–æ–≤–∞—Ä–æ–≤.

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** üì¶

   - –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ API –∏ –∑–∞–±–∏—Ä–∞–µ–º —Ç–æ–≤–∞—Ä—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, —Å—Å—ã–ª–∫–∞).
   - –í—ã–≤–æ–¥–∏–º —Ç–æ–≤–∞—Ä—ã –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª** üìÇ

   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç (`JSON` –∏–ª–∏ `CSV`).
   - –ü–∞—Ä—Å–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

6. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è** (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
   - **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–µ).
   - **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –ª–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API.
   - **–í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞** (–µ—Å–ª–∏ API —Ç—Ä–µ–±—É–µ—Ç –≥–æ—Ä–æ–¥ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏).

---

## **üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤)**

–†–∞–∑–¥–µ–ª–∏–º –∫–æ–¥ –Ω–∞ –º–æ–¥—É–ª–∏, —á—Ç–æ–±—ã –≤—Å—ë –±—ã–ª–æ **—á–∏—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ**.

```
/samokat-parser
‚îÇ‚îÄ‚îÄ main.go             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ cli.go          # –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
‚îÇ   ‚îú‚îÄ‚îÄ api.go          # –†–∞–±–æ—Ç–∞ —Å API –°–∞–º–æ–∫–∞—Ç–∞ (–∑–∞–ø—Ä–æ—Å—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
‚îÇ   ‚îú‚îÄ‚îÄ parser.go       # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–æ–≤–∞—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ output.go       # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON/CSV
‚îÇ‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ headers.json    # –•—Ä–∞–Ω–∏–º –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ User-Agent
‚îÇ‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

üí° **–ó–∞—á–µ–º —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞?**

- **–û—Ç–¥–µ–ª—è–µ–º –ª–æ–≥–∏–∫—É API, CLI –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö**.
- **–õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∫–æ–¥** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞).

---

## **üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è**

### **1Ô∏è‚É£ `main.go` ‚Äì –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**

```go
package main

import (
	"fmt"
	"samokat-parser/internal/cli"
)

func main() {
	fmt.Println("üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°–∞–º–æ–∫–∞—Ç-–ø–∞—Ä—Å–µ—Ä!")
	fmt.Println("üîπ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:")
	fmt.Println("  - categories  ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π")
	fmt.Println("  - parse       ‚Üí –í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —Å–ø–∞—Ä—Å–∏—Ç—å —Ç–æ–≤–∞—Ä—ã")
	fmt.Println("  - exit        ‚Üí –í—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã")

	cli.Start()
}
```

üí° **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**.
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ `cli.go`.

---

### **2Ô∏è‚É£ `cli.go` ‚Äì –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥**

```go
package cli

import (
	"fmt"
	"samokat-parser/internal/api"
	"samokat-parser/internal/parser"
	"samokat-parser/internal/output"
)

func Start() {
	for {
		fmt.Print("\n–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: ")
		var command string
		fmt.Scanln(&command)

		switch command {
		case "categories":
			categories := api.GetCategories()
			for i, cat := range categories {
				fmt.Printf("%d. %s\n", i+1, cat.Name)
			}

		case "parse":
			fmt.Print("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ")
			var choice int
			fmt.Scanln(&choice)

			category := api.GetCategoryByIndex(choice)
			products := parser.ParseProducts(category)

			fmt.Print("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç (json/csv): ")
			var format string
			fmt.Scanln(&format)

			output.SaveToFile(products, format)

		case "exit":
			fmt.Println("üëã –ü–æ–∫–∞!")
			return

		default:
			fmt.Println("‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞")
		}
	}
}
```

üí° **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**

- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç **–∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–∞—Ä—Å–∏–Ω–≥, –≤—ã—Ö–æ–¥).
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å API –∏ –ø–∞—Ä—Å–µ—Ä–æ–º.

---

### **3Ô∏è‚É£ `api.go` ‚Äì –ó–∞–ø—Ä–æ—Å—ã –∫ API –°–∞–º–æ–∫–∞—Ç–∞**

```go
package api

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"net/http"
)

const baseURL = "https://api-web.samokat.ru/v2/"

type Category struct {
	ID   string `json:"id"`
	Name string `json:"name"`
}

func GetCategories() []Category {
	url := baseURL + "showcases"
	req, _ := http.NewRequest("GET", url, nil)
	req.Header.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64)")

	client := &http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		fmt.Println("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", err)
		return nil
	}
	defer resp.Body.Close()

	body, _ := ioutil.ReadAll(resp.Body)
	var categories []Category
	json.Unmarshal(body, &categories)

	return categories
}
```

üí° **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**

- –ü–æ–ª—É—á–∞–µ—Ç **—Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** —á–µ—Ä–µ–∑ API.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–º–∞—Å—Å–∏–≤ —Å ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º**.

---

### **4Ô∏è‚É£ `parser.go` ‚Äì –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤**

```go
package parser

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"net/http"
)

type Product struct {
	Name  string `json:"name"`
	Price string `json:"price"`
	URL   string `json:"url"`
}

func ParseProducts(category string) []Product {
	url := fmt.Sprintf("https://api-web.samokat.ru/v2/products?category=%s", category)

	req, _ := http.NewRequest("GET", url, nil)
	req.Header.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64)")

	client := &http.Client{}
	resp, err := client.Do(req)
	if err != nil {
		fmt.Println("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", err)
		return nil
	}
	defer resp.Body.Close()

	body, _ := ioutil.ReadAll(resp.Body)
	var products []Product
	json.Unmarshal(body, &products)

	return products
}
```

üí° **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**

- –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å **–Ω–∞–∑–≤–∞–Ω–∏–µ–º, —Ü–µ–Ω–æ–π –∏ —Å—Å—ã–ª–∫–æ–π**.

---

### **5Ô∏è‚É£ `output.go` ‚Äì –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON/CSV**

```go
package output

import (
	"encoding/csv"
	"encoding/json"
	"fmt"
	"os"
	"samokat-parser/internal/parser"
)

func SaveToFile(products []parser.Product, format string) {
	if format == "json" {
		file, _ := os.Create("products.json")
		json.NewEncoder(file).Encode(products)
		fmt.Println("‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ products.json")
	} else if format == "csv" {
		file, _ := os.Create("products.csv")
		writer := csv.NewWriter(file)
		defer writer.Flush()

		writer.Write([]string{"–ù–∞–∑–≤–∞–Ω–∏–µ", "–¶–µ–Ω–∞", "–°—Å—ã–ª–∫–∞"})
		for _, p := range products {
			writer.Write([]string{p.Name, p.Price, p.URL})
		}
		fmt.Println("‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ products.csv")
	} else {
		fmt.Println("‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç")
	}
}
```

üí° **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**

- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ **JSON** –∏–ª–∏ **CSV**.

---

## **üöÄ –ì–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ?**

–≠—Ç–æ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CLI-–ø–∞—Ä—Å–µ—Ä–∞! üí• –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥ –∏ —É–∂–µ —á–µ—Ä–µ–∑ –ø–∞—Ä—É —á–∞—Å–æ–≤ **–ø–æ–ª—É—á–∏—Ç—å —Ä–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**! üòàüî•

**–¢—ã –≥–æ—Ç–æ–≤ –≤–æ—Ä–≤–∞—Ç—å—Å—è –≤ –∫–æ–¥?** üòèüíª
